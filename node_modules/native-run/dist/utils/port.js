"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const errors_1 = require("../errors");
const cli_1 = require("./cli");
function getForwardedPorts(args) {
    const forwardedPorts = cli_1.getOptionValues(args, '--forward');
    const ports = [];
    if (forwardedPorts && forwardedPorts.length > 0) {
        forwardedPorts.forEach((port) => {
            const [device, host] = port.split(':');
            if (!device || !host) {
                throw new errors_1.CLIException(`Invalid --forward value "${port}": expecting <device port:host port>, e.g. 8080:8080`);
            }
            ports.push({ device, host });
        });
    }
    return ports;
}
exports.getForwardedPorts = getForwardedPorts;
